<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Julian Shively — Home</title>
  <meta name="description" content="Julian Shively — musician portfolio">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    /* --- Original styles kept exactly except hero modifications below --- */
    :root{--bg:#071018;--muted:#98a6ad;--teal:#06b6a4;--accent:#10b981; --hero-height:520px;}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:#061018;color:#e6eef6;font-family:Inter,system-ui,Arial}
    .topnav{position:fixed;left:0;right:0;top:0;height:64px;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(6px);background:linear-gradient(180deg,rgba(3,8,10,0.6),rgba(3,8,10,0.3));z-index:40}
    .topnav .inner{width:1100px;display:flex;align-items:center;justify-content:space-between;padding:0 16px}
    .brand{font-family:'Playfair Display',serif;font-size:20px;color:#fff}
    .navlinks{display:flex;gap:8px;align-items:center}
    .navlinks a{color:var(--muted);text-decoration:none;padding:10px 12px;border-radius:8px;font-weight:600}
    .navlinks a.contact{background:linear-gradient(90deg,var(--teal),#08c9b5);color:#04201d}

    main{padding-top:96px}

    /* HERO - full-bleed, fixed carousel background (keeps aspect ratio), tall portrait with hover fade */
    .hero{
      /* make full-bleed hero that still aligns content with page width */
      width:100%;
      max-width:none;
      margin:56px 0 40px;
      display:grid;
      /* larger left column for portrait, right column for black text box */
      grid-template-columns: 700px 1fr;
      gap:28px;
      align-items:center;
      padding:28px 16px;
      position:relative;
      overflow:visible;
      transition:transform 0.3s, opacity 0.3s;
      /* use CSS variable for hero height so bg can match it */
      min-height:var(--hero-height);
      z-index: 2; /* content above fixed background */
      background: transparent;
      transform-style: preserve-3d;
    }

    /* Fixed, full-width background carousel that stays while you scroll.
       Uses <img> elements (height:100%, width:auto) so aspect ratios are preserved.
       The hero-bg is pinned to the viewport using a dynamic top offset (calculated in JS)
       and is forced to full opacity so it never fades away when hero transforms. */
    .hero-bg{
      position:fixed;
      left:0;
      right:0;
      top:96px; /* default top; JS will recalc to align perfectly with hero */
      height: var(--hero-height);
      z-index: 1; /* behind hero content */
      overflow: hidden;
      pointer-events: none; /* don't block interaction */
      display:block;
      background: transparent;
      opacity: 1 !important; /* prevent any accidental fading */
      will-change: transform;
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
    }

    .hero-bg .inner-track{
      position:absolute;
      left:0;
      top:0;
      height:100%;
      display:flex;
      align-items: center;
      will-change: transform;
      /* animation (duration adjustable in JS/CSS) */
      animation: scroll-left 28s linear infinite;
    }

    /* keyframes move the duplicated row leftwards for continuous loop */
    @keyframes scroll-left {
      0%   { transform: translateX(0); }
      100% { transform: translateX(-50%); } /* -50% because we duplicate the track */
    }

    /* each image keeps its original ratio: height fills the hero height, width auto */
    .hero-bg .inner-track img{
      height:100%;
      width:auto;
      object-fit:cover;
      display:block;
      margin-right:8px;
      border-radius:6px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.45);
      transform: translateZ(0); /* avoid subpixel jitter */
    }

    .hero-bg .inner-track.duplicate { left: 50%; }

    /* portrait remains the main, largest image of the collage and sits above the background */
    .hero .portrait{
      width:100%;
      height:calc(var(--hero-height) - 20px); /* slightly shorter than bg to create padding */
      max-width:780px;
      border-radius:12px;
      object-fit:cover;
      background:#122429;
      transition:transform 0.3s, opacity 0.25s;
      z-index: 3; /* sit above the fixed bg */
      box-shadow: 0 18px 40px rgba(2,6,10,0.7);
      border: 1px solid rgba(255,255,255,0.03);
    }

    /* fade portrait on hover */
    .hero .portrait:hover{
      opacity:0.82;
      cursor:default;
    }

    /* hero text boxed in a solid black panel to the right of the portrait */
    .hero .hero-text{
      padding:20px;
      transition:transform 0.3s, opacity 0.3s;
      z-index: 4;
      background: rgba(0,0,0,0.95);
      border-radius:12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      color: #ffffff;
      align-self: start;
      max-width: 520px;
    }

    .hero h1{font-family:'Playfair Display',serif;font-size:44px;margin:0 0 6px}
    .hero p.lead{color:var(--muted);margin:0 0 18px;font-size:18px}
    .hero .hero-cta{display:flex;gap:12px;flex-wrap:wrap}
    .btn{padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:700}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    .btn-primary{background:linear-gradient(90deg,var(--teal),#059e89);color:#021615}

    .section{max-width:1100px;margin:36px auto;padding:32px}
    .section.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:12px;padding:28px;opacity:0;transform:translateY(40px);transition:all 0.6s ease-out;}
    .tracks{display:flex;flex-direction:column;gap:18px}
    .track{display:flex;align-items:center;gap:20px;padding:18px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);opacity:0;transform:translateX(-50px);transition:all 0.6s ease-out;}
    .track img{width:96px;height:96px;object-fit:cover;border-radius:8px}
    .track .meta b{display:block;font-weight:700;font-size:18px}

    .shows-wrap{max-width:1100px;margin:36px auto;display:block;padding:0 16px}
    .shows-list{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:20px;border-radius:12px;opacity:0;transform:translateY(40px);transition:all 0.6s ease-out;}
    .show-item{margin-bottom:20px;padding:18px;border-radius:10px;background:#071217;box-shadow:0 6px 18px rgba(2,6,10,0.6);border:1px solid rgba(255,255,255,0.02);opacity:0;transform:translateX(50px);transition:all 0.6s ease-out;}
    .show-date{color:var(--muted);font-size:13px;margin-bottom:8px}
    .show-title{font-family:'Playfair Display',serif;font-size:22px;margin:0}
    .show-location{color:var(--muted);margin-top:8px}
    .show-desc{margin-top:12px;color:var(--muted)}
    .show-cta{margin-top:12px}
    .pill{background:linear-gradient(90deg,var(--teal),#08b39e);color:#021615;padding:8px 12px;border-radius:8px;text-decoration:none;font-weight:700}

    .gallery-section{width:100%;margin:40px 0;padding:40px 0;background:transparent}
    .gallery{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;max-width:1200px;margin:0 auto}
    .gallery img{width:220px;height:220px;object-fit:cover;border-radius:10px}

    /* Video slider section with smooth horizontal scroll and snapping */
    .video-slider {
      max-width: 1100px;
      margin: 36px auto;
      padding: 20px 0;
      display: flex;
      gap: 16px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    .video-slider iframe {
      flex: 0 0 300px;
      height: 180px;
      border-radius: 8px;
      scroll-snap-align: center;
      transition: transform 0.3s, opacity 0.3s;
      opacity: 0.6;
    }
    .video-slider iframe.centered {
      opacity: 1;
      transform: scale(1.05);
    }

    footer{max-width:1100px;margin:40px auto;color:var(--muted);text-align:center;padding:40px 16px}

    @media (max-width:1000px){
      /* stack portrait and text on smaller screens; keep hero full-bleed but align content */
      .hero{
        grid-template-columns:1fr;
        padding:20px 16px;
        min-height: auto;
      }
      /* adjust fixed bg height on small screens */
      .hero-bg{ top: calc(96px + 20px); height: 360px; }
      .hero-bg .inner-track img{ height:100%; }
      .hero .portrait{height:320px; max-width:100%; margin-bottom:12px;}
      .hero .hero-text{align-self:stretch; max-width:none;}
      .topnav .inner{width:calc(100% - 32px)}
      /* slow down animation a bit on small screens for readability */
      .hero-bg .inner-track{ animation-duration: 36s; }
    }
  </style>
</head>
<body>
  <div class="topnav">
    <div class="inner">
      <div class="brand">Julian Shively</div>
      <div class="navlinks">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="media.html">Media</a>
        <a class="contact" href="contact.html">Contact</a>
      </div>
    </div>
  </div>

  <main>
    <!-- HERO -->
    <section class="hero" aria-label="Hero">
      <!-- Fixed background carousel (images listed here — update paths if needed).
           Duplicate the sequence inside the second .inner-track to create a seamless loop. -->
      <div class="hero-bg" aria-hidden="true" id="heroBg">
        <div class="inner-track" id="heroTrack">
          <!-- add your photos here in the order you want them to scroll -->
          <img src="./images/photo1.jpg" alt="">
          <img src="./images/photo9.jpg" alt="">
          <img src="./images/photo5.jpg" alt="">
          <img src="./images/photo6.jpg" alt="">
          <img src="./images/photo7.jpg" alt="">
          <img src="./images/photo8.jpg" alt="">
        </div>
        <div class="inner-track duplicate" id="heroTrackCopy">
          <img src="./images/photo1.jpg" alt="">
          <img src="./images/photo9.jpg" alt="">
          <img src="./images/photo5.jpg" alt="">
          <img src="./images/photo6.jpg" alt="">
          <img src="./images/photo7.jpg" alt="">
          <img src="./images/photo8.jpg" alt="">
        </div>
      </div>

      <img class="portrait" src="./avatar.jpeg" alt="Julian Shively portrait">
      <div class="hero-text">
        <h1>Julian Shively</h1>
        <p class="lead">Pianist • Cellist • Composer/Arranger</p>
        <div class="hero-cta">
          <a class="btn btn-primary" href="#shows">Upcoming Performances</a>
          <a class="btn btn-ghost" href="media.html">Listen & Watch</a>
          <a class="btn btn-ghost" href="contact.html">Book & Contact</a>
        </div>
      </div>
    </section>

    <!-- VIDEO SLIDER -->
    <section class="video-slider" aria-label="Video Slider">
      <iframe id="video1" src="https://www.youtube.com/embed/dQw4w9WgXcQ?enablejsapi=1" allowfullscreen></iframe>
      <iframe id="video2" src="https://www.youtube.com/embed/3JZ_D3ELwOQ?enablejsapi=1" allowfullscreen></iframe>
      <iframe id="video3" src="https://www.youtube.com/embed/V-_O7nl0Ii0?enablejsapi=1" allowfullscreen></iframe>
      <iframe id="video4" src="https://www.youtube.com/embed/oHg5SJYRHA0?enablejsapi=1" allowfullscreen></iframe>
    </section>

    <!-- Upcoming performances (no sidebar) -->
    <div class="shows-wrap" id="shows">
      <div class="shows-list">
        <h2 style="margin-top:0">Upcoming Performances</h2>
        <p style="color:var(--muted)">Check out where to catch me next!</p>

        <div class="show-item">
          <div class="show-date">Oct 19, 2025 — 7:00 PM, 8:15 PM, & 9:30 PM</div>
          <h3 class="show-title">'Jules's Quartet' @ Upstairs</h3>
          <div class="show-location">Upstairs Jazz Bar & Grill, 1254 Mackay St, Montreal, QC</div>
          <div class="show-cta"><a class="pill" href="https://booking.libroreserve.com/25bc58466445a43/QC016994658341/seat">Reserve Seats</a></div>
        </div>

        <div class="show-item">
          <div class="show-date">Oct 24, 2025 — 7:00 PM</div>
          <h3 class="show-title">Julian Shively & Emma McDonald: An evening of jazz, R&B and neo-soul</h3>
          <div class="show-location">Suzuki Music Schools, 246 Post Road East, Westport, CT</div>
          <div class="show-cta"><a class="pill" href="https://www.eventbrite.com/e/julian-shively-emma-mcdonald-an-evening-of-jazz-rb-and-neo-soul-tickets-1625371101719?aff=oddtdtcreator">Tickets</a></div>
        </div>

        <div class="show-item">
          <div class="show-date">Nov 06, 2025 — 7:30 PM</div>
          <h3 class="show-title">The DelaOssa Quartet</h3>
          <div class="show-location">Brasserie Beaubien, 73 Rue Beaubien E, Montreal, QC</div>
          <div class="show-cta"><a class="pill" href="https://www.instagram.com/p/DPvMHevDaCy/">Details</a></div>
        </div>

        <div class="show-item">
          <div class="show-date">Nov 11, 2025 — 7:00 PM</div>
          <h3 class="show-title">Ingrid Li with Strings</h3>
          <div class="show-location">La Sala Rossa, 4848 St Laurent Blvd, Montreal, QC</div>
          <div class="show-cta"><a class="pill" href="https://tickets.venuepilot.com/e/connexions-musicales-ingrid-li-with-strings-2025-11-11-la-sala-rossa-montreal-68bf08?fbclid=PAZXh0bgNhZW0CMTEAAae3ydPQiXogjBTBS5LBzFEbq_Uq0kAXWX3sLU0jW_icutuDiMYVcJ6EDO-bhA_aem_5VRbhR1itPdO4ASAa5LTEA">Tickets</a></div>
        </div>

        <div class="show-item">
          <div class="show-date">Nov 17, 2025</div>
          <h3 class="show-title">Nick Baddelay Quartet</h3>
          <div class="show-location">Casa des Popolo, 4873 St Laurent Blvd, Montreal, QC</div>
        </div>

        <div class="show-item">
          <div class="show-date">Nov 20, 2025</div>
          <h3 class="show-title">JOSA's Atmosphere</h3>
          <div class="show-location">Petit Campus, 57-b Rue Prince-Arthur E, Montreal, QC</div>
        </div>
        
      </div>
    </div>

    <!-- MUSIC (moved below shows) -->
    <section class="section card" id="music">
      <h2 style="text-align:center;margin-top:0">Music</h2>
      <div class="tracks">
        <div class="track">
          <img src="./images/cover1.jpg" alt="cover1">
          <div class="meta"><b>Track Title One</b><span style="display:block;color:var(--muted)">Single — 2025</span></div>
        </div>
        <div class="track">
          <img src="./images/cover2.jpg" alt="cover2">
          <div class="meta"><b>Track Title Two</b><span style="display:block;color:var(--muted)">EP — 2024</span></div>
        </div>
      </div>
      <iframe class="responsive" style="width:100%;height:200px;border:0;border-radius:8px;margin-top:18px" src="https://open.spotify.com/embed/album/1DFixLWuPkv3KT3TnV35m3" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
    </section>

    <footer>
      © <span id="year"></span> Julian Shively • All rights reserved.
    </footer>
  </main>

  <script>
document.getElementById('year').textContent = new Date().getFullYear();

// Smooth scroll for internal anchors
document.querySelectorAll('a[href^="#"]').forEach(a=>{
  a.addEventListener('click', e=>{
    e.preventDefault();
    const t = document.querySelector(a.getAttribute('href'));
    if(!t) return;
    const y = t.getBoundingClientRect().top + window.pageYOffset - 80;
    window.scrollTo({top:y, behavior:'smooth'});
  });
});

// --- Hero scroll effect with scaling, parallax, fade, and horizontal slide-in ---
const hero = document.querySelector('.hero');
const heroImg = document.querySelector('.hero .portrait');
const heroText = document.querySelector('.hero .hero-text');

window.addEventListener('scroll', () => {
  const scroll = window.scrollY;
  const easeOutQuad = t => 1 - (1 - t) * (1 - t);
  let progress = Math.min(scroll / 400, 1);
  let eased = easeOutQuad(progress);
  const scale = 1 - 0.2 * eased;
  const opacity = 1 - eased;
  const textSlide = Math.min(scroll * 0.2, 50);
  hero.style.transform = `scale(${scale})`;
  hero.style.opacity = opacity;
  heroImg.style.transform = `scale(${scale}) translateY(${scroll * 0.1}px)`;
  heroImg.style.opacity = opacity;
  heroText.style.transform = `scale(${scale}) translateY(${scroll * 0.2}px) translateX(${textSlide}px)`;
  heroText.style.opacity = opacity;
});

// --- Staggered animations on scroll with easing ---
const tracks = document.querySelectorAll('.track');
const shows = document.querySelectorAll('.show-item');
const sections = document.querySelectorAll('.section.card, .shows-list');

const animateElements = (elements, offset = 100) => {
  elements.forEach((el, index) => {
    const rect = el.getBoundingClientRect();
    if(rect.top < window.innerHeight - offset){
      el.style.transition = `all 0.6s cubic-bezier(0.25, 0.8, 0.25, 1) ${index * 0.1}s`;
      el.style.opacity = 1;
      el.style.transform = 'translateX(0) translateY(0)';
    }
  });
};

window.addEventListener('scroll', () => {
  animateElements(tracks, 100);
  animateElements(shows, 100);
  animateElements(sections, 50);
});
animateElements(tracks, 100);
animateElements(shows, 100);
animateElements(sections, 50);

// --- Background carousel handling ---
// This duplicates the hero track at runtime (if not already duplicated) so the CSS loop is seamless.
// It also adjusts animation duration dynamically based on total width so the scroll speed feels consistent.
// Additionally, it calculates the fixed top offset so the hero-bg remains vertically aligned and DOES NOT move/fade while scrolling.
(function setupHeroCarousel(){
  const heroElem = document.querySelector('.hero');
  const heroBg = document.getElementById('heroBg');
  const track = document.getElementById('heroTrack');
  const copy = document.getElementById('heroTrackCopy');

  if(!track || !heroBg || !heroElem) return;

  // if copy is empty, clone the track's images into it
  if(copy && copy.children.length === 0){
    Array.from(track.children).forEach(n => {
      copy.appendChild(n.cloneNode(true));
    });
  }

  // Ensure the hero-bg top is aligned with the hero's position in the viewport on load/resize.
  // We set the hero-bg 'top' to the heroElement's boundingClientRect.top (distance from viewport top),
  // clamped so it doesn't go under the topnav. This is only done on load/resize (not on scroll),
  // so the background remains fixed in the viewport and won't move vertically with page scroll.
  function alignHeroBgTop(){
    const rect = heroElem.getBoundingClientRect();
    // rect.top is the hero's top relative to viewport.
    // But hero is initially below the fixed topnav + main padding; we want to keep the bg visually behind hero.
    // If rect.top is negative (hero scrolled up), keep a sensible min top (nav height).
    const navHeight = 64; // matches .topnav height
    let topValue = Math.max(rect.top, navHeight + 8); // slight gap
    // set style
    heroBg.style.top = Math.round(topValue) + 'px';
  }

  // compute animation duration based on total width of images
  function setAnimSpeed(){
    const allImgs = track.parentElement.querySelectorAll('.inner-track img');
    let totalWidth = 0;
    allImgs.forEach(img => totalWidth += (img.getBoundingClientRect().width || 0) + 8);
    if(totalWidth < 100) totalWidth = window.innerWidth * 2;
    const pxPerSecond = 120;
    const duration = Math.max(10, Math.round((totalWidth / 2) / pxPerSecond));
    document.querySelectorAll('.hero-bg .inner-track').forEach(el => {
      el.style.animationDuration = duration + 's';
    });
  }

  // Run on load and on resize
  window.addEventListener('load', () => { alignHeroBgTop(); setAnimSpeed(); });
  window.addEventListener('resize', () => {
    clearTimeout(window._heroResizeTimer);
    window._heroResizeTimer = setTimeout(() => { alignHeroBgTop(); setAnimSpeed(); }, 180);
  });

  // Also try again after each image loads (to get correct widths)
  Array.from(track.querySelectorAll('img')).forEach(img => {
    if(!img.complete) img.addEventListener('load', () => { setAnimSpeed(); alignHeroBgTop(); });
  });

  // immediate attempt
  alignHeroBgTop();
  setAnimSpeed();
})();

// --- YouTube Slider Auto Play Centered Video with Fade ---
let tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
document.body.appendChild(tag);
let players = [];

function onYouTubeIframeAPIReady() {
  document.querySelectorAll('.video-slider iframe').forEach((iframe, i) => {
    players[i] = new YT.Player(iframe.id);
  });
}

const slider = document.querySelector('.video-slider');
function playCenteredVideo() {
  const sliderRect = slider.getBoundingClientRect();
  const centerX = sliderRect.left + sliderRect.width / 2;

  let closestIndex = 0;
  let closestDistance = Infinity;

  players.forEach((player, i) => {
    const iframe = player.getIframe();
    const rect = iframe.getBoundingClientRect();
    const videoCenter = rect.left + rect.width / 2;
    const distance = Math.abs(centerX - videoCenter);
    if (distance < closestDistance) {
      closestDistance = distance;
      closestIndex = i;
    }
    iframe.classList.remove('centered');
  });

  players.forEach((player, i) => {
    const iframe = player.getIframe();
    if (i === closestIndex) {
      player.playVideo();
      iframe.classList.add('centered');
    } else {
      player.pauseVideo();
    }
  });
}

if (slider) {
  slider.addEventListener('scroll', () => {
    requestAnimationFrame(playCenteredVideo);
  });
}
window.addEventListener('load', () => {
  setTimeout(()=>{ if (typeof playCenteredVideo === 'function') playCenteredVideo(); }, 1000);
});
  </script>
</body>
</html>






